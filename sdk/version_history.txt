Использование модулей SDK и создание нового проекта:
1. Для создания нового проекта длостаточно скопировать содержимое папки [example] в папку своего проекта.
Далее нужно переименовать имя файла проекта и имя файла с настройками.
Содержимое файла [main.cpp] правится на ваше усмотрение.

2. Для обеспечения работы с Qt модулем QtMqtt, его вначале нужно поместить в среду библиотеки Qt5.9.6
Для Windows достаточно скопировать библиотеку (sdk\QtModules\QtMqtt\Qt5.9.6\win)
в папку c Qt (C:\Qt\Qt5.9.6\5.9.6\mingw53_32) и перезапустить QtCreator
Для Linux - нужно добавить описание

3. Для вывода сообщения в консоль достаточно воспользоваться макросами:
    PRINT_LOG_MESSAGE_INFO( message )
    PRINT_LOG_MESSAGE_WARN( message )
    PRINT_LOG_MESSAGE_ERROR( message )

4. Для вывода сообщения в ЛОГ топик Mqtt достаточно воспользоваться макросами:
    PRINT_LOG_MESSAGE_INFO( message )
    PRINT_LOG_MESSAGE_WARN( message )
    PRINT_LOG_MESSAGE_ERROR( message )
    PRINT_LOG_RETAIN_MESSAGE_INFO( message )
    PRINT_LOG_RETAIN_MESSAGE_WARN( message )
    PRINT_LOG_RETAIN_MESSAGE_ERROR( message )

5. Для вывода важного сообщения на монитор через GUI необходимо воспользоваться одним из
следующих макросов
    PRINT_GUI_MESSAGE_INFO( name, message )
    PRINT_GUI_MESSAGE_WARN( name, message )
    PRINT_GUI_MESSAGE_ERROR( name, message )
    PRINT_GUI_RETAIN_MESSAGE_INFO( name, message )
    PRINT_GUI_RETAIN_MESSAGE_WARN( name, message )
    PRINT_GUI_RETAIN_MESSAGE_ERROR( name, message )

6. Для отправки keepalive сообщения достаточно воспользоваться макросами:
    SEND_KEEPALIVE_MESSAGE_PAYLOADED( payload )                     - дополнительно отправляется сообщение
    SEND_KEEPALIVE_MESSAGE()


История версия для модуля MNTCONTI_SDK:
*********************************************************************************************************************************
>>  0.4 ( 14-Июня-208 )
        1. [Нововведение] Написан и первично протестирован модуль для работы с Mqtt
        2. [Нововведение] В SDK добавлен скомпилированный модуль для Qt 5.9.6 по работе с MQTT.
    Достаточно скопировать библиотеку (sdk\QtModules\QtMqtt\Qt5.9.6\win) в папку c Qt (C:\Qt\Qt5.9.6\5.9.6\mingw53_32) и перезапустить QtCreator
        3. [Исправлено] Переделаны макросы по выводу сообщений в консоль (тут возникнет ошибка в проекте при работе с предыдущей версией SDK)
        4. [Исправлено] При выводе сообщений в консоль учитывается версия ПО из двух символов
        5. [Обнаружена неисправность] Неверный подход работы с настрйоками в БД - модуль по работе с настрйоками в БД (CSettingsDatabase)
    будет незначительно изменен в следующей версии. С текущей версией настроек уже можно начинать пробовать, работать вплотную пока рано

*********************************************************************************************************************************
>>  0.5 ( 18-Июня-2018 )
        1. [Нововведение] Переделан способ хранения настроек в БД
        2. [Нововведение] Добавлен новый класс CLoggerHandler окруженный макросами для более удобного использования.
    Для использования не нужно создавать доп объектов и совершать доп манипуляций.
    При первом вызове любого макроса из серии PRINT_LOG_MESSAGE будет создан соответсвующий объект и через него
    начнется работа.
    Доступны макросы для создания сообщений как без так и с retain флагом
        3. [Исправлено] Ошибка в БД, непозволяющая сохранять список настроек
        4. [Исправлено] Все используемые namespac'ы перенесены или в static скрытые константы или вынутрь
    public области класса

*********************************************************************************************************************************
>>  0.6 ( 22-Июня-2018 )
        1. [Нововведение] Добавлен модуль CKeepAliveHandler для отправки keepalive сообщений в соответствующий топик
        2. [Исправлено] В CLoggerHandler наименования топиков исправлены на верные (см документ с описанием наименований топиков)
        3. [Исправлено] В класс с настройками добалены новые поля:
            - наименование модуля (сейчас настрйоки будут располагаться в одной таблице)
            - описание (пояснение) для настройки. Данное описание будет доступно в GUI при редактировании настройки.
                Формировать только на русском языке
            - флаг приватности настрйоки. Приватные настройки не видны GUI, доступны только для самого модуля,
                могут быть изменены так же только самим модулем
        4. [Нововведение] в проект EXAMPLE добавлен пример по работе с keepalive сообщениями

*********************************************************************************************************************************
>>  0.7 ( 25-Июня-2018 )
        1. [Нововведение] Добавлен конструктор для CSettingsVariantExtender непосредственно из QByteArray json
        2. [Нововведение] В класс с настрйоками в методы записи настройки добавлен флаг. По умолчанию, если настройка уже
            содержится в БД она будет перезаписана (обновлена). При указании флага override=false, значение настройки не
            будет обновлено. Если настрйока еще не содержится в БД - она будет создана в любом случае.
            Данный подход можно использовать для задания первоначального списка настроек, доступных для редактирования
            через GUI и присвоение дефолтных значений (которые и определяют тип настройки);
        3. [Исправлено] Была ошибка в Mqtt клиенте. В случае если не удается подключиться и соединение остается в режиме
            connecting, то при попытке закрыть соединение фозникал sigfault;
        4. [Нововведение] Добавлен сигнал в обработчик подключения к БД о подключении и отключении от БД.
            Сигнал об отключении может возникнуть при обращении к БД и возвращении ошибок. Будьте внимательны при
            чтении настроек из БД

*********************************************************************************************************************************
>>  0.8 ( 28-Июня-2018 )
        1. [Изменение] Исправлены наименование топиков для логгера.
        2. [Нововведение] Добавлены макросы по отображению сообщений через GUI
        3. [Изменение] Изменены наименования полей JSON объекта в сообщении логгера
        4. [Изменение] Для Windows пришлось скорректировать исходники QMqtt библиотеки. Происходил SIGSEGV при закрытии коннекта.
            Скомпилированный модуль QMqtt обновлен в SDK.
        5. [Нововведение] Модуль QMqtt скомпилирован под две версии компилятора MinGW и MSVC2017-x64
        6. [Нововведение] Для запуска MYSQL плагина добавлены две версии библиотеки libmysql.dll (для MinGW и MSVC2017-x64)
        7. [Тестировать] Поведение Mqtt клинета при разных состояниях подключения

*********************************************************************************************************************************
>>  0.9 ( 02-Июля-2018 )
        1. [Изменение] Расширение функционала в CLoggerMessage
        2. [Нововведение] CUtils

*********************************************************************************************************************************
>>  0.10 ( 03-Июля-2018 )
        1. [Изменение] Расширение функционала в CMqttClientHandler (см методы subscribe, getState, error)
        2. [Изменение] CSettingsHandler исправлена ошибка с неработающим методом deinitSettingsHandler

*********************************************************************************************************************************
>>  0.11 ( 10-Июля-2018 )
        1. [Изменение] Исправлен вывод в консоль - были ошибки вывода сообщения в Linux
        2. [Изменение - может вызвать ошибки в проектах] Удалена точка с запятой из максроса вывода в консоль -
            видимо случайно осталась

*********************************************************************************************************************************
>>  0.12 ( 10-Июля-2018 )
        1. [Изменение] Исправления в CLoggerHandler - перебран конструктор, убрано жесткое ожидание подключения к брокеру.
            Ибо на Линукс странно блокируется.

*********************************************************************************************************************************
>>  0.13 ( 13-Июля-2018 )
        1. [Изменение] В потокобезопасные методы CMqttClientHandler введено исправления для работы из одного потока. Это особенно
            актуально для CLoggerHandler

*********************************************************************************************************************************
>>  0.14 ( 16-Июля-2018 )
        1. [Изменение] Изменение метода createNewConnection для CMqttClientHandler. Теперь можно создавать коннект для текущего
            потока
        2. [Изменение] Изменил вывод в консоль. Теперь сообщения не мешаются между собой. Могут возникнуть ошибки.
            Для их исправления необходимо вместо CLoggerMessage.h подключить CConsoleLogger.h

*********************************************************************************************************************************
>>  0.15 ( 17-Июля-2018 )
        1. [Изменение] Измененение в логгере - убрал предупреждение.

*********************************************************************************************************************************
>>  0.16 ( 18-Июля-2018 )
        1. [Изменение] В класс CSettingsEntry (с настройками в БД) добавлен короткий конструткор для приватных данных
        2. [Изменение] В класс CSettingsEntry скорректирован метод определения корректности настройки.
            Теперь анализируется только непустое имя настройки, поскольку приватная настройка может не содержать
            полей с описанием и т.п.
        3. [Изменение] В классе CSettingsDatabaseProvider исправлена ошибка, которая препятствовала корректной записи
            списка настроек
        4. [Изменение] В классах по работе с настрйоками в БД изменил методы. Теперь можно работать как в текущем так и
            из разных потоков (например, используя invokeMethod)

*********************************************************************************************************************************
>>  0.22 ( 16-Сентябрь-2018 )
        1. Изменены типы данных для настроек записываемых в БД
        2. Добавлен новый тип данных - cameraUrl

*********************************************************************************************************************************
>>  0.23 ( 24-Сентябрь-2018 )
        1. Исправить время в отладке - в дате минуты заменить на месяц, убрать лишние двоеточия
        2. В клиента БД добавить таймер сохранения активности - запрос времени 1 раз в 10 минут бездействия
            Добавлен слот resetKeepaliveTimer сброса таймера - можно вызывать при выполнении запроса в БД, но не обязательно
        3. Проверены процедуры удаления одиночных объектов - в результате устранены падения приложения.
            Здесь необходимо дальнейшее тестирование

*********************************************************************************************************************************
>>  0.24 ( -2018 )

*********************************************************************************************************************************
>>  0.1.26 ( 01-Октябрь-2018 )
        1. Отрефакторил класс для работы с БД

*********************************************************************************************************************************
>>  0.1.27 ( 01-Октябрь-2018 )
        1. Добавил очистку консольного логера в базовый контроллер приложения.

*********************************************************************************************************************************
>>  0.1.28 ( 02-Октябрь-2018 )
        1. Определяем режим подробного логирования через переменную среды MNTCONTI_DEBUG.

*********************************************************************************************************************************
>>  0.1.29 ( 02-Октябрь-2018 )
        1. При выводе PRINT_LOG_MESSAGE, автоматом формируется PRINT_LOG_MESSAGE
*********************************************************************************************************************************
>>  0.1.30 ( 04-Октябрь-2018 )
        1. Добавил механизм запуска
*********************************************************************************************************************************
>>  0.1.31 ( 15-Октябрь-2018 )
        1. Добавил метод получения списка IP всех локальных интерфейсов.
        2. Добавил метод безопасной публикации сообщений в топик.

*********************************************************************************************************************************
>>  0.1.32 ( 16-Октябрь-2018 )
        1. Изменения по созданию коннекта с кастомными настройками

*********************************************************************************************************************************
>>  0.1.33 ( 16-Октябрь-2018 )
        1. Изменения по созданию коннекта с кастомными настройками

*********************************************************************************************************************************
>>  0.1.34 ( 18-Октябрь-2018 )
        1. Изменения в некоторых handler'ах - при создании потока удалил указание родителем qApp
*********************************************************************************************************************************
>>  0.1.35 ( 19-Октябрь-2018 )
        1. Исправил переподключение к брокеру
>> *********************************************************************************************************************************
>>  0.1.36 ( 22-Октябрь-2018 )
        1. Заменил Queued connections на Auto connections в классе CMqttClientHandler. Т.к. объект хандлера у нас 
		может жить как в главном так и во второстепенном потоке. 
*********************************************************************************************************************************
>>  0.1.37 ( 28-Октябрь-2018 )
        1. Доработал CUtils.
*********************************************************************************************************************************
>>  0.1.38 ( 31-Октябрь-2018 )
		Доработал класс CMqttClientHandler:
		1. Отлажен реконнект по 2 причинам: сбой канала связи и упал брокер.
		2. В случае если не возможности публикации сообщений, последние складываются в очередь для дальнейшей их публикации, когда
		связь восстановится. 
		3. Также упавший брокер не запоминает последнее состояние retain сообщений, а также подписанные топики. Поэтому после 
		реконнекта также клиент складывает и те и другие в очереди для дальнейшего восстановления после восстановления связи.
>>  0.1.39 ( 08-Ноябрь-2018 )
                Доработал класс CMqttClientHandler:
                1. Переделал метод createNewConnection . Реализовал выход по таймауту попытки соединения  с броккером.
                Ранее ожиданее было бесконечно, таким образом эта функция блокировала выполнение последующих за ней
                инструкций в случае, если соединение не устанавливалось.
>>  0.1.40 ( 12-Ноябрь-2018 )
        1. CSettingsHandler.cpp - Изменения, направленные на устранении предупреждения об ошибки,
        выбрасываемого в консоль "QMutex: destroing locked mutex" при вызове метода void CSettingsHandler::deinitSettingsHandler( ),
        а также заменил оператор delete на автоматический вызов метода delete later посредством коннекта.
        2.  Класс CMqttClientHandler - реализовал выдачу сообщения в консоль при попытке реконнекта.
>>  0.1.41 ( 12-Ноябрь-2018 )
                Еще добавлены изменения в CMqttClientHandler, добавляющие отладочную информацию
                для отладки реконнекта. Все сообщения, ранее пичатавшиеся из CMqttClientHandler
                в консоль, теперь еще печатаются в консоль ГУИ
>>  0.1.42 ( 12-Ноябрь-2018 )
           Исправлены ошибки в CMqttClientHandler
>>  0.1.43 ( 13-Ноябрь-2018 )
          Добавил пердусловие для сборки CGOS обработчика
>>  0.1.44 ( 20-Ноябрь-2018 )
Усовершенствована работа CLoggerHandler. Теперь он по минимуму блокирует поток, из которого
в первый раз вызвана функция публикации лог сообщения. В частности клиент mqtt теперь создается
отложено в потоке, выделенном для логгера. Все сообщения, отправленные до создания и подключения к сети mqtt клиента
собираются в очередь для последующей отправки после коннекта в базу логгера сообщений.
Для транспорта mqtt клиента (в качестве транспорта выступает QTcpSocket задействован сигнал ошибки, ошибки выдаются в консоль и в логер).
>>  0.1.45 ( 23-Ноябрь-2018 )
В mqtt броккере сделал вывод также значение QOS сообщений при их публикации.
Если сообщение не удалось опубликовать, повторная публикация произойдет теперь через 1 с, ранее была 0.1 с
>>  0.1.46 ( 23-Ноябрь-2018 )
В mqtt броккере сделал проверку значения QOS сообщений перед публикации с выводом об ошибке и удалением
таких сообщений из очереди

*********************************************************************************************************************************
>>  0.1.47 ( 07-Декабря-2018 )
        1. Изменения в CKeepAliveHandler

*********************************************************************************************************************************
>>  0.1.48 ( 07-Декабря-2018 )
        1. В linux - пробуем собирать динамическую библиотеку

*********************************************************************************************************************************
>>  0.1.49 ( 19-Декабря-2018 )
        1. some minimal changes with database settings structures
        2. add method CUtils::sdkVersion to replace makro SDK_VERSION

*********************************************************************************************************************************
>>  0.1.50 ( 26-Декабря-2018 )
        1. Изменения в методе CTopicValueEntry::getTopicNameIndex

*********************************************************************************************************************************
>>  0.1.51 ( 10-Январь-2019 )
        1. Изменения по работе со списком настроек из БД - были ошибки

*********************************************************************************************************************************
>>  0.1.52 ( 21-Январь-2019 )
        1. Обновления в топиках - добавлен новый топик

*********************************************************************************************************************************
>>  0.1.53 ( 22-Январь-2019 )
        1. Обновления в топиках - добавлен новый топик

*********************************************************************************************************************************
>>  0.1.54 ( 23-Январь-2019 )
        1. Изменения в CKeepAliveHandler - корректное завершение
        2. Изменения в CAbstractController - добавлена работа с CKeepAliveHandler,
            поэтому данный блок нужно добавить во все приложения

*********************************************************************************************************************************
>>  0.1.55 ( 24-Январь-2019 )
        1. Добавил содержимое топика CTopicDiagnosticInfo - задел для работы с диагностикой

*********************************************************************************************************************************
>>  0.1.56 ( 25-Январь-2019 )
        1. Добавлен функционал по диагностике в CKeepAliveHandler

*********************************************************************************************************************************
>>  0.1.57 ( 1-Февраль-2019 )
        1. Добавлен топик с прошивкой МК
        2. Исправления в настройках, теперь доступна группировка настроек (подробнее CSettingsEntry поля m_subgroupName и m_subgroupHumanName)

*********************************************************************************************************************************
>>  0.1.58 ( 06-Февраль-2019 )
        1. Исправил путаницу в топиках

*********************************************************************************************************************************
>>  0.1.59 ( 21-Февраль-2019 )
        1. Исправление в работе с настройками в БД - добавил экранирование строк
        2. Убрал запись в поле "type" - за ненадобностью

*********************************************************************************************************************************
>>  0.1.60 ( 26-Февраль-2019 )
        1. Топики добавлены
        2. Группа по работе с формализованными сообщениями

*********************************************************************************************************************************
>>  0.1.61 ( -Февраль-2019 )
        1.

*********************************************************************************************************************************
>>  0.1.62 ( 4марта-2019 )
        1. Добавил библиотеку для проигрывание аудиофайлов в разные аудиоканалы

*********************************************************************************************************************************
>>  0.1.63 ( 5марта-2019 )
        1. Пофиксил баг в классе BufferedAudioDevice, проявляющийся в автотесте не всегда.
		
*********************************************************************************************************************************
>>  0.1.64 ( 11-марта-2019 )
        1. Изменения в топиках

*********************************************************************************************************************************
>>  0.5.1 ( 03-апреля-2019 )
        1. Устранены некоторые ошибки в классе CMultyChannelAudioPlayer
*********************************************************************************************************************************
>>  0.6.1 ( 19-апреля-2019 )
        1. Исправлена ошибка с уровнем звука на экране теста звука
*********************************************************************************************************************************

>>  0.6.2 ( 22-апреля-2019 )
        1. Исправлена ошибка в CAbstractSettingsProvider и, как следствие, в CSettingsHandler и CSettingsDatabaseProvider:
методы по работе с настрйоками не были помечены как slot
************************************************************************************************************************
>>  0.6.3 ( 30-апреля-2019 )
        1. Новые топики
************************************************************************************************************************
>>  0.6.4 ( 08-05-2019 )
        1. Новые топик по рабоет со статусами HDD
        2. Обработчик топиков - добавлены методы по работе с топиками по имени топика
************************************************************************************************************************
>>  0.6.5 ( 15-05-2019 )
        1. Убрал willMessage из топиков
************************************************************************************************************************
>>  0.6.6 ( 20-05-2019 )
        1. Добавлены новые и изменения в имеющихся топиках

************************************************************************************************************************
>>  0.6.7 ( 28-05-2019 )
        1. В модули с настройками, логгер и mqtt - QEventLoop заменены на семафоры.
        Так правильно, ибо прежде возникали ситуации с dead-lock'ами
        2. В модуль CUtils добавлена обработка параметров для действия update_pppd_secrets

************************************************************************************************************************
>>  0.6.8 ( 28-05-2019 )
        1. Вернули старую версию CMqttClientHandler

************************************************************************************************************************
>>  0.6.9 ( 30-05-2019 )
        1. Убрал метод publish в CMqttClientHandler, вместо него использовать safePublish
        2. LoggerHandler и KeepaliveHandler перевел в один поток и при инициализации сделал указание mqtt клиента.
        См AbstractAppController

************************************************************************************************************************
>>  0.6.10 ( 31-05-2019 )
        1. Скрыл конструктор и метод createNewConnection для CMqttClientHandler.
        Использовать localInstance - для локального подключения и createNewConnectionWithSettings для
        подключения к стороннему брокеру
        2. QEventLoop заменены на семафоры в CMqttClientHandler

************************************************************************************************************************
>>  0.6.11 ( 3-06-2019 )
        1. Переделана логика старта MqttClient - к началу выполнения пользовательской части
            клиент уже запущен в общей части кода
        2. Исправлена ошибка - в методе enqueueMessage в классе CMqttClientHandler не выполнялась проверка
            на инициализацию клиента

************************************************************************************************************************
>>  0.6.12 ( 4-07-2019 )
        1. Изменения в CCoreApplication - связаны с настройками открытия локального mqtt и базы данных
            - поддержана работа с локальными файлами настроек
        2. CMqttClientHandler - сделаны изменения в сторону работы со списком коннектов для
            CCoreApplication

************************************************************************************************************************
>>  0.6.13 ( 17-07-2019 )
        1. Убраны из sdk:
            - CAudio
            - CMultyChannelAudioPlayer
        2. Поддержан полное содержимое топика с информацией о маршруте INFORMATOR/ROUTE_STATE


************************************************************************************************************************
>>  0.6.14 ( 01-08-2019 )
        1. Убран лишний параметр в вызове update_pppd_secrets через CUtils::runAsRoot

************************************************************************************************************************
>>  0.7.1 ( 10-08-2019 )
        1. Добавлены новые топики
        2. Измение в топике CTopicInformatorBusesList

************************************************************************************************************************
>>  0.7.2 ( 29-08-2019 )
        1. Переход на новые топики

